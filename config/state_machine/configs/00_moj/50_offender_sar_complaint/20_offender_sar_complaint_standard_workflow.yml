      standard:
        initial_state: to_be_assessed
        user_roles:

        ########################### OFFENDER SAR COMPLAINT :: STANDARD WORKFLOW :: RESPONDER ########################
          responder:
            states:
              to_be_assessed:
                mark_as_require_data_review:
                  transition_to: data_review_required
                mark_as_data_to_be_requested:
                  transition_to: data_to_be_requested
                mark_as_waiting:
                  if: Workflows::Predicates#is_litigation_complaint?
                  transition_to: waiting
                mark_as_require_response:
                  transition_to: response_required
                add_data_received:
                add_note_to_case:
                send_acknowledgement_letter:
                edit_case:
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_assigned?
                reset_to_initial_state:
                  transition_to: to_be_assessed
              waiting:
                mark_as_data_to_be_requested:
                  transition_to: data_to_be_requested
                add_data_received:
                add_note_to_case:
                send_acknowledgement_letter:
                edit_case:
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_assigned?
                reset_to_initial_state:
                  transition_to: to_be_assessed
              data_review_required:
                mark_as_vetting_in_progress:
                  transition_to: vetting_in_progress
                mark_as_require_response:
                  transition_to: response_required
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team?
                add_data_received:
                add_note_to_case:
                send_acknowledgement_letter:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed
              data_to_be_requested:
                mark_as_waiting_for_data:
                  transition_to: waiting_for_data
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team?
                add_data_received:
                add_note_to_case:
                send_acknowledgement_letter:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed
              waiting_for_data:
                mark_as_ready_for_vetting:
                  transition_to: ready_for_vetting
                mark_as_require_response:
                  if: Workflows::Predicates#is_not_litigation_complaint?
                  transition_to: response_required
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team?
                add_data_received:
                add_note_to_case:
                send_acknowledgement_letter:
                preview_cover_page:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed
              ready_for_vetting:
                mark_as_vetting_in_progress:
                  transition_to: vetting_in_progress
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team?
                add_data_received:
                add_note_to_case:
                preview_cover_page:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed
              vetting_in_progress:
                mark_as_ready_to_copy:
                  transition_to: ready_to_copy
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team?
                add_data_received:
                add_note_to_case:
                preview_cover_page:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed
              ready_to_copy:
                mark_as_require_response:
                  if: Workflows::Predicates#is_not_litigation_complaint?
                  transition_to: response_required
                mark_as_ready_to_dispatch:
                  if: Workflows::Predicates#is_litigation_complaint?
                  transition_to: ready_to_dispatch
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team?
                add_data_received:
                add_note_to_case:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed
              ready_to_dispatch:
                close:
                  transition_to: closed
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team?
                send_dispatch_letter:
                add_data_received:
                add_note_to_case:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed
              response_required:
                add_approval_flags_for_ico:
                  if: Workflows::Predicates#is_ico_complaint_and_no_approval_flag?
                add_approval_flags_for_litigation:
                  if: Workflows::Predicates#is_litigation_complaint_and_no_approval_flag?
                add_complaint_appeal_outcome:
                  if: Workflows::Predicates#is_ico_complaint_and_no_appeal_outcome?
                add_complaint_outcome:
                  if: Workflows::Predicates#is_litigation_complaint_and_no_outcome?
                add_complaint_costs:
                  if: Workflows::Predicates#is_litigation_complaint_and_no_costs?
                close:
                  transition_to: closed
                assign_to_team_member:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team_and_not_assigned?
                reassign_user:
                  if: Workflows::Predicates#responder_is_member_of_assigned_team?
                send_dispatch_letter:
                add_data_received:
                add_note_to_case:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed
              closed:
                add_approval_flags_for_ico:
                  if: Workflows::Predicates#is_ico_complaint_and_no_approval_flag?
                add_approval_flags_for_litigation:
                  if: Workflows::Predicates#is_litigation_complaint_and_no_approval_flag?
                add_complaint_appeal_outcome:
                  if: Workflows::Predicates#is_ico_complaint_and_no_appeal_outcome?
                add_complaint_outcome:
                  if: Workflows::Predicates#is_litigation_complaint_and_no_outcome?
                add_complaint_costs:
                  if: Workflows::Predicates#is_litigation_complaint_and_no_costs?
                reopen: 
                  transition_to: to_be_assessed
                add_note_to_case:
                send_dispatch_letter:
                edit_case:
                reset_to_initial_state:
                  transition_to: to_be_assessed

